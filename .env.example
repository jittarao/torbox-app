# ============================================
# Docker Compose Environment Variables
# ============================================
# Copy this file to .env in the root directory for Docker Compose deployment
# This file contains backend environment variables that docker-compose.yml reads
# Frontend environment variables are hardcoded in docker-compose.yml

# ============================================
# Backend Service Configuration (Required)
# ============================================
# Frontend URL for CORS configuration
# For local Docker Compose: http://localhost:3000
# For production with domain: https://yourdomain.com
FRONTEND_URL=http://localhost:3000

# ============================================
# Security (Required)
# ============================================
# Encryption key for sensitive data (REQUIRED)
# Generate a secure random key using one of these methods:
#
# Windows PowerShell:
# [Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Minimum 0 -Maximum 256 }))
#
# macOS/Linux:
# openssl rand -base64 32
#
# WARNING: Changing this key will make encrypted data unreadable!
# WARNING: Keep this key secure and never commit it to version control!
ENCRYPTION_KEY=your_secure_encryption_key_here_minimum_32_characters

# ============================================
# Optional Backend Configuration
# ============================================
# Backend server port (default: 3001)
# PORT=3001

# Node environment (default: production)
# NODE_ENV=production

# TorBox API base URL (default: https://api.torbox.app)
# TORBOX_API_BASE=https://api.torbox.app

# TorBox API version (default: v1)
# TORBOX_API_VERSION=v1

# Master database path (default: /app/data/master.db)
# MASTER_DB_PATH=/app/data/master.db

# User database directory (default: /app/data/users)
# USER_DB_DIR=/app/data/users

# Maximum database connections in pool (default: 200)
# The system monitors pool usage and logs warnings at 80%, 90%, and 95% capacity.
# Pool statistics are available via /api/health/detailed endpoint.
# MAX_DB_CONNECTIONS=200

# ============================================
# Sentry Error Tracking (Optional)
# ============================================
# Enable Sentry error tracking and performance monitoring
# Set to 'true' to enable Sentry (both backend and frontend)
# SENTRY_ENABLED=true

# Sentry DSN (Data Source Name) - Required if SENTRY_ENABLED=true
# Get your DSN from: https://sentry.io/settings/YOUR_ORG/projects/YOUR_PROJECT/keys/
# Format: https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
# SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Frontend Sentry DSN (optional, falls back to SENTRY_DSN if not set)
# Use NEXT_PUBLIC_ prefix for Next.js to expose to client-side
# NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Performance monitoring sample rate (0.0 to 1.0)
# 0.1 = 10% of transactions are traced (recommended for production)
# 1.0 = 100% of transactions are traced (use for development/debugging)
# Default: 0.1 in production, 1.0 in development
# SENTRY_TRACES_SAMPLE_RATE=0.1

# Session Replay sample rate for frontend (0.0 to 1.0)
# 0.1 = 10% of sessions are recorded (recommended for production)
# Default: 0.1
# NEXT_PUBLIC_SENTRY_REPLAYS_SESSION_SAMPLE_RATE=0.1

# Session Replay sample rate when errors occur (0.0 to 1.0)
# 1.0 = 100% of error sessions are recorded (recommended)
# Default: 1.0
# NEXT_PUBLIC_SENTRY_REPLAYS_ON_ERROR_SAMPLE_RATE=1.0

# Enable Sentry debug mode (prints detailed logs to console)
# Set to 'true' for troubleshooting Sentry setup
# Default: false
# SENTRY_DEBUG=false

# ============================================
# Notes
# ============================================
# - This file is used by docker-compose.yml for the torbox-backend service
# - Frontend environment variables (BACKEND_URL, BACKEND_DISABLED) are set in docker-compose.yml
# - For local development, use:
#   - .env.local (frontend) in root directory
#   - backend/.env (backend) in backend directory
# - Never commit .env to version control
# - ENCRYPTION_KEY must be at least 32 characters and base64-encoded
# - Optional variables are commented out - uncomment to override defaults
